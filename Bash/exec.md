---
id: exec
aliases: []
tags: []
---

**Back**
    [[!lin]]

# Exec
---
Команда `exec` выполняет команды самого bash
- Мощный инструмент замены процессов, гибкого протоколирования сценариев
- Если команда `exec` выполнена успешно, она не возвращается к вызывающему процессу
- Команда `exec` **НЕ создает новый процесс**.
- При запуске утилиту из терминала, текуший терминальный процесс заменяется командой, которая предоставляется в качестве аргумента

## Syntax
---
```bash
exec [optionals] [command [args]] [перенаправление]
```

## Optionals
---
```bash
-c # Выполнение команды в чистой среде

-l # Передача тире - в качестве нулевого аргумента

-a [name] # Передача имени в качестве нулевого аргумента
```

## Использование (Примеры)
---

### Утилита с дополнительной командой в качестве аргумента
---
В этом режиме `exec` пытается выполнить аргумент как команду
- Оставшиеся аргументы (если они есть), передаются новой команде
- Управляются перенаправления (если таковые имеются)

```bash
bash
exec ls
```

Утилита `exec` ищет путь, указанный в переменной `$PATH` с необходимой исполняемой командой.
Если команда не найдена, утилита и оболочка завершают работу с ошибкой


### Замена текущего сеанса оболочки
---
```bash
# Используем утилиту для переключения в оболочку Bourne
exec sh

# На другой вкладке проверяем PID процесса Bourne Shell
ps -ae | grep "\bsh\b"
#>>> Bash-процесс был заменен на sh-процесс
```

### Запуск скриптов в чистой среде
---
```bash
sh
exec -c printenv
# -c Сбрасывает все переменные окружения (на время выполнения команды)
# printenv - Выводит все переменные окружения
# >>> Вывод будет пустым
```

### Выполнение утилиты с командой поиска
---
Утилиту `exec` можно использовать для выполнения операций [[grep]], `cat`, `mv`, `cp`, `rm` и других над файлами, найденными командой [[find]]

```bash
# Найдем все файлы, содержащие iwd в каталоге
find /path -name "*" -type f -exec grep -l iwd {} \;
# `-type f` поиск обычных файлов
# `-exec` для выполнения команды `grep` в списке файлов, возвращенных
# командой `find`

# `;` заставляет команду grep исполняться для каждого файла по
# очереди, поскольку {} заменяется именем теущего файлаю
# `\` нужен для того, чтобы `;` не интерпритировалась оболочкой
```

source: [](https://linuxcookbook.ru/articles/komanda-exec-linux)
