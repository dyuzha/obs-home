---
id: proxy
aliases: []
tags: []
---
**Back**
    [[!!Base]]

# Прямой прокси (Forward proxy)
---
Для безопасности внутреней сети
- Можно настроить чтобы весь трафик проходил через прокси сервер
  - На нем можно поставить черный список вебсайтов
  - Регистрация пользовательской активности (мониторинг, кто, что
  посещает)
  - Кеширует ответы (тем самым экономит трафик)

# Обратный прокси (Reverse proxy)
---
Это прокси находящийся на стороне сервера (обрабатывающий входящие
клиентские запросы)
- Управляет запросами, распределяет их, имея информацию о входящем
потоке
- Балансировка нагрузки (одна из функций обратного прокси)

# Балансировщик нагрузки ()
---
Пример использования:

Облачный балансировщик находится вне контура организации
  - Играет роль входной точки в частную сеть
  - Чаще всего распределяет нагрузку на основе более простых алгоритмов,
  (зачастую на 4 уровне)

```
            ____|||___
           ( Облачный )
          (балансировщик)
           /            \
==========/==============\=================== Контур организации
   ______/_               \ _______
  |Reverse|               |Reverse|
  |PROXY  |               |PROXY  |

```

Обратные прокси серверы маршрутизируют трафик внутри сети
  - Выполняет маршрутизацию на 7-ом уровне (прикладном), что позволяет
  реализовать более интеллекуальную  маршрутизацию к веб-серверам
    - на основе cookie-файлов
    - URL
    - заголовков запроса
    - и тд
  - Может обрабатывать прекращение **SSL** и **TLS**
    - При этом можно проверить зашифрованный трафик *(для принятия более
    обоснованного решения по балансировки нагрузки)*
      - Это важно при микросервисной архитектуре (с большм кол-ом сервисов)

  Например:
  a) Все запросы от одного и того же пользователя всегда приходили на один
  и тотже веб-сервер
    - обратный прокси будет проверять:  - все связанные данные сеансов
                                        - cookie-файлы
    => А затем пересылать на соответствующие серверы

Описанную схему целесообразно использовать в кластере Kubernetes
с микросервисами
- **Ingress**-контроллер (по сути является обратным прокси)
  - Обеспечивает внутренюю маршрутизацию и безопасность
- Облачный балансировщик выступает в качестве первой линии защиты
  - Управляет внешним трафиком и частично его фильтрует
  *(прежде чем он попаде в кластер)*

# Прозрачный прокcи
---
- это стандартные прокси серверы, которые не изменяют данные пользователя
(оставляют их в "первозданном" виде)
=> Они не прячут IP
(Пользователи их даже не заметят)

- Прозрачный прокси работает на стороне сервера и обеспечивает контроль и
фильтрацию трафика без изменений настройки устройств конечных пользователей

**Функции**
- Фильтрация трафика (Отсекает доступ к вредоносным сайтам)
- Установка правил доступа (Устанавливает правила доступа к определенным сайтам)
- Анализ и мониторинг сетевого трафика
  - Отслеживать активность пользователей
  - Выявдять аномалии и угрозы
  - Анализировать паттерны использования ресурсов


source: [Habr - Разница между прямым, обратным прокси и балансировщиком нагрузки](https://habr.com/ru/companies/sberbank/articles/858516/)
