---
id: Reality
aliases:
  - Reality
tags: []
---
**Back**
    [[!!Base]]

# Reality
---
**REALITY**  - это новый протокол для обхода интернет-цензуры, основанный на технологии TLS (как и Shadowsocks, Trojan, VLESS). Его особенность в том, что он:
- Маскируется по обычный HTTPS-трафик, что затрудняет его блокировку.
- Не трубует сертификатов (в отличие от TLS-прокси)
- Использует реальные домены (например, cloudflare.com, google.com) для маскировки, что делает трафик менее подозрительным

Как используется **REALITY** ?
1. Серверная часть - настраивается как прокси/VPN с поддержкой **REALITY** .
2. Клиентская часть - пользователи подключаются через специальные клиенты (например, Xray-core, v2ray)
3. Обход блокировок - трафик выглядит как обычное HTTPS-соединение, что усложняет его обнаружение DPI (Deep Packet Inspection)

## Как REALITY использует популярные домены
---
1. Подмена SNI (Server Name Indication)
- При HTTPS-соединении клиент отправляет SNI (назывние домена, к которому подключается).
- **REALITY** подменяют SNI на реальный популярный домен (например, microsoft.com), хотя на самом деле трафик идет на ваш прокси-сервер.
- Это делает трфик похожим на легитимное соединение с крупным сервисом

2. Использование настроящих TLS-отпечатков
- **REALITY** имитирует поведение реальных серверов (например, копирует TLS-отпечатки Cloudflare или Google)
- Это усложняет обнаружение через DPI (Deep Packet Inspection)

3. Не требует валидного сертификата
- В отличие от Trojan или VLESS+XTLS, **REALITY**  не нуждается в своем SSL-сертификате
- Он просто "притворяется" чужим сервером, используя их домены в SNI

## Трафик
---
1. Внешне - как обычный HTTPS-трафик к популярному домену (например, apple.com).
2. При анализе DPI:
- TLS - рукопожатие выглядит как подключение к apple.com
- Нет аномалий в отпечатках (fingerprint) или расширениях TLS.
- Но после установки соединения трафик идет на ваш прокси-сервер.
3. Если провайдер не блокирует выбранный домен - трафик проходит без подозрений

## Безопасность
---
- Нет шаблонных сигнатур (как у Shadowsocks или OpenVPN).
- Нет своего сертификата (в отличие от Trojan)
- Использует легитимные домены, которые нельзя просто так заблокировать (например, google.com)


---
Если провайдер блокирует IP сервера или запрещает все SNI, кроме разрешенных, **REALITY** может перестать работать

REALITY -  один из самых сложных для обнаружения протоколов.
Если вам нужно максимально скрытное соединение - это хороший выбор


## Домены прописываются в конфигурации Xray/V2Ray
---
На стороне сервера (inbounds)
```json
"inbounds": [
  {
    "port": 443,
    "protocol": "vless",
    "settings": {
      "clients": [...],
      "decryption": "none",
      "fallbacks": [
        {
          "dest": 80,
          "xver": 1
        }
      ]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "reality",
      "realitySettings": {
        "show": false,
        "dest": "example.com:443", // Настоящий сервер, который будет "прикрытием"
        "serverNames": ["apple.com", "cloudflare.com"], // Домены для подмены SNI
        "privateKey": "...",
        "shortIds": ["..."],
      }
    }
  }
]
```

На стороне клиента (outbounds)
```json
"outbounds": [
  {
    "protocol": "vless",
    "settings": {
      "vnext": [
        {
          "address": "your-server-ip",
          "port": 443,
          "users": [...]
        }
      ]
    },
    "streamSettings": {
      "network": "tcp",
      "security": "reality",
      "realitySettings": {
        "serverName": "apple.com", // Какой домен использовать для маскировки
        "fingerprint": "chrome", // Имитирует отпечаток браузера
        "publicKey": "...",
        "shortId": "...",
      }
    }
  }
]
```
