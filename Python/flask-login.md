---
id: flask-login
aliases: []
tags: []
---
**Back**
    [[Flask]]

# Flask-login
---
Отслеживает вошедшего в систему пользователя, сохраняя его уникальный идентификатор в сеансе пользователя Flask (хранилище, назначенной каждому пользователю, который подключается к приложению)

Каждый раз, когда вошедший в систему пользователь переходит на новую страницу. **Flask-login**  извалекает **id** пользователя из сеанса, а затем загружает этого пользователя в память.

**Flask-login** ничего не знает о базах данных
=> Необходимо настроить функцию закгрузки пользователя

```python
from app import db
from app import login

class User(UserMixin, db.Model):
    # ...

    @login.user_loader
    """Загрузчик пользователя"""
    def load_user(id):
        # id, который Flask-login передает в функцию будет строкой,
        # поэтому важно его преобразовать в int
        return db.session.get(User, int(id))
```

Реализует 4 об

`is_authenticated` (свойство)
- Возвращает True(False), если у пользователя (не)действительные учетные данные

`is_active` (свойство)
- Возвращает True(False), если учетнуая запись пользователя (не)активная

`is_anonymous` (свойство)
- Возвращает False для обычных пользователей, True для специального анонимного пользователя

`get_id()` (метод)
- Возвращает уникальный идентификатор пользователя в виде строки

## current_user
---
Переменная, мб исопльзована в любое время обработки запроса для получения объекта *user* из бд.
Запрос на получение делается благодаря установленной функции `load_user(id)`

