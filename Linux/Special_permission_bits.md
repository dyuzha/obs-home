---
id: Special_permission_bits
aliases:
  - Special_permission_bits
tags: []
---
**Back**
    [[!Lin]]

# Special_permission_bits
---
Специальные флаги, расширяющие права

Как проверить все специальные биты?
Команда ls -l показывает их в виде букв s, s, t:

SUID: `- --s --- ---`
(буква s в правах владельца).

SGID: `- --- --s ---`
(буква s в правах группы).

Sticky Bit: `- --- --- --t`
(буква t в правах остальных).

Числовое представление `<цифра>---`
(например, 4755):
Первая цифра = SUID(4) + SGID(2) + Sticky(1).

## SUID (Set User ID) `- --s --- ---`
---
- только для исполняемых файлов
Программа запускается от имени владельца, а не того, кто ее запустил

*(Программа passwd меняет пароли в /etc/shadow, доступном только root,
но благодаря SUID обычные пользователи могут её использовать.)*

```bash
- rws r-x r-x 1 root root /usr/bin/passwd
# /usr/bin/passwd запускается от имени root, не зависимо от того кто ее запустил

# Установка
chmod u+s /path/to/file    # Символическая запись
chmod 4755 /path/to/file   # Числовая запись (4 в начале — SUID)
```


## SGID (Set Group ID) `- --- --s ---`
---
- Для файлов:
Аналогично, как и SUID, но программа запускается от имени группы владельца
- Для директорий:
Новые файлв наследуют группу родительской папки (а не основную группу пользователя)

```bash
d rwx r-s r-x 2 root developers /shared_code
# Все файлы в /shared_code будут создаваться с группой developers

# Установка
chmod g+s /path/to/dir     # Символическая запись
chmod 2775 /path/to/dir    # Числовая запись (2 в начале — SGID)
```


## Sticky Bit `- --- --- --t`
---
- только для директорий
Позволяет удалять файлы в папке только для их владельцев, даже если у других есть право записи `w`

```bash
d rwx rwx rwt 2 root root /tmp
# в /tmp могут все создавать файлы, но удалять могут только свои

# Установка
chmod +t /tmp      # Символическая запись
chmod 1777 /tmp    # Числовая запись (1 в начале — Sticky Bit)
```
